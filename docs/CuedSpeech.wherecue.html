<!DOCTYPE html>
<html>

        <head>
            
            <title>Auto-CS doc</title>

            <meta charset="utf-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
            <meta name="description" content="WhenTransitionPredictorRevisedRules. Predict hand transition moments with a revised rule-based system." />

            <link rel="logo icon" href="./statics/autocs32x32.ico" />
            <link rel="stylesheet" href="./Whakerexa-2.0/wexa_statics/css/wexa.css" type="text/css" />
            <link rel="stylesheet" href="./Whakerexa-2.0/wexa_statics/css/layout.css" type="text/css" />
            <link rel="stylesheet" href="./Whakerexa-2.0/wexa_statics/css/book.css" type="text/css" />
            <link rel="stylesheet" href="./Whakerexa-2.0/wexa_statics/css/menu.css" type="text/css" />
            <link rel="stylesheet" href="./Whakerexa-2.0/wexa_statics/css/code.css" type="text/css" />
            <link rel="stylesheet" href="./statics/clamming.css" type="text/css" />

            <!-- Whakerexa JS loader: ES6 modules on http(s), bundle on file:// -->
            <script>
            (function () {
              const usingFile = (window.location.protocol === 'file:');
              const s = document.createElement('script');
            
              if (usingFile) {
                s.src = './Whakerexa-2.0/wexa_statics/js/wexa.bundle.js';
              } else {
                s.type = 'module';
                s.src = './Whakerexa-2.0/wexa_statics/js/wexa.js';
              }
            
              s.onload = function () {
                window.Wexa.onload.addLoadFunction(function () {
                  const book = new window.Wexa.Book("main-content");
                  book.fill_table(false);
                });
              };
            
              document.head.appendChild(s);
            })();
            </script>

       </head>
       
       <body class="light">
        <header>

            <a role="button" class="skip" href="#main-content" aria-label="Go to main content">
                Go to main content
            </a>
            <nav>
                <ul>
                    <li>
                        <button id="btn-contrast" role="menuitem" class="print-off" onclick="window.Wexa.accessibility.switch_contrast_scheme()" aria-label="Contrast">
                            <img class="nav-item-img" src="./Whakerexa-2.0/wexa_statics/icons/contrast_switcher.jpg" alt="Contrast" id="img-contrast"/>
                        </button>
                    </li>
                    <li>
                        <button id="btn-theme" class="print-off" role="menuitem" onclick="window.Wexa.accessibility.switch_color_scheme()" aria-label="Theme" >
                            <img class="nav-item-img" src="./Whakerexa-2.0/wexa_statics/icons/theme_switcher.png" alt="Theme" id="img-theme"/>
                        </button>
                    </li>
                </ul>
            </nav>
        
    <h1>Auto-CS 2.0</h1>
        <p><img class="small-logo" src="./statics/autocs.png" alt="Software logo"/></p>
        <p><a class="external-link" href="https://sourceforge.net/projects/autocs/">https://sourceforge.net/projects/autocs/</a></p>
    </header>
    <nav id="nav-book" class="side-nav">
    <h1>Auto-CS 2.0</h1>
    <img class="small-logo center" src="./statics/autocs.png" alt=""/>
        <p><a class="external-link" href="https://sourceforge.net/projects/autocs/">https://sourceforge.net/projects/autocs/</a></p>
    <ul>
<li><a role="button" tabindex="0" href="CuedSpeech.whenhand.transition.html"> &crarr; Prev. Module</a></li>
<li><a role="button" tabindex="0" href="WhenTransitionPredictorRules.html"> &uarr; Prev. Class</a></li>
<li><a role="button" tabindex="0" href="index.html"> &#8962; Index</a></li>
<li><a role="button" tabindex="0" aria-disabled="true"> &darr; Next Class</a></li>
<li><a role="button" tabindex="0" href="CuedSpeech.wherecue.angle.html"> &rdsh; Next Module</a></li>
    </ul>
    <h2>Table of Contents</h2>
    <ul id="toc"></ul>
    <hr>
    <p><small>Automatically created</small></p><p><small>by <a class="external-link" href="https://clamming.sf.net">ClammingPy</a></small></p>
</nav>
    <main id="main-content">
    <section id="#CuedSpeech.wherecue">
    <h1>CuedSpeech.wherecue module</h1>
    <section id="readme">

<h2>Where?</h2>

<h3>Overview</h3>

<p>Another challenge is to model the hand’s trajectory: the research effort 
concerns the proposal of efficient models and algorithms that can predict
at any time the exact location of the cue position based on a general 
positioning of the speaker’s head. </p>

<p>At first, we have to define the position of the vowels around the face. 
However, it’s variability is currently unknown. Then, the system is 
calculating a ”rate” between sights on the face thanks to a 68-sights 
face landmarks output. The ”rate” of each vowel was determined by experts 
and is always the same. For example, coordinates of the vowel
”m”, close to the mouth, are estimated by: </p>

<ul>
<li>x = x48 − |(x54 − x48)/4|</li>
<li>y = y60</li>
</ul>

<p>Secondly, the trajectory between vowel positions has to be estimated during 
the hand transitions. The hand is moving from a position to another following 
a straight line, with a constant speed.</p>

<p>Finally, the angle of the arm has to be adjusted.</p>

<h3>Implementation</h3>

<p>The "where" question is implemented into the <code>wherecue</code> package. 
This is a package to predict the hand positions at any time in the video. 
It requires predicted position and shape transitions. It produces a file
with the hand coordinates.</p>

<p>Two predictors are implemented for the vowel positions and 4 for the angle predictions.</p>

<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span><span class="n">gencue</span> <span class="o">=</span> <span class="n">sppasWhereCuePredictor</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">gencue</span><span class="o">.</span><span class="n">set_cue_rules</span><span class="p">(</span><span class="n">cued</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">gencue</span><span class="o">.</span><span class="n">set_wherepositionpredictor_version</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">gencue</span><span class="o">.</span><span class="n">set_whereanglepredictor_version</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="c1"># adjust annotations boundaries on frames of the video</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">ann_on_media</span> <span class="o">=</span> <span class="n">sppasAnnsOnFrames</span><span class="p">(</span><span class="n">fps</span><span class="o">=</span><span class="mf">60.</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">vf_pos</span> <span class="o">=</span> <span class="n">ann_on_media</span><span class="o">.</span><span class="n">adjust_boundaries</span><span class="p">(</span><span class="n">cs_pos</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">vf_shape</span> <span class="o">=</span> <span class="n">ann_on_media</span><span class="o">.</span><span class="n">adjust_boundaries</span><span class="p">(</span><span class="n">cs_shape</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span><span class="n">trs_coords</span> <span class="o">=</span> <span class="n">gencue</span><span class="o">.</span><span class="n">predict_where</span><span class="p">(</span><span class="s2">&quot;path/file-ident.xra&quot;</span><span class="p">,</span> <span class="n">vf_pos</span><span class="p">,</span> <span class="n">vf_shape</span><span class="p">)</span>
</code></pre></div>



    </section>

<h2>List of classes</h2>

        <section class="cards-panel">
        <article class="card">
            <header><span>1</span></header>
            <main>
                <h3>sppasWhereCuedSightsValueError</h3>
            </main>
            <footer>
                <a role="button" href="sppasWhereCuedSightsValueError.html">Read me →</a>
            </footer>
        </article>
        <article class="card">
            <header><span>2</span></header>
            <main>
                <h3>sppasFaceHeight</h3>
            </main>
            <footer>
                <a role="button" href="sppasFaceHeight.html">Read me →</a>
            </footer>
        </article>
        <article class="card">
            <header><span>3</span></header>
            <main>
                <h3>TargetProbabilitiesEstimator</h3>
            </main>
            <footer>
                <a role="button" href="TargetProbabilitiesEstimator.html">Read me →</a>
            </footer>
        </article>
        <article class="card">
            <header><span>4</span></header>
            <main>
                <h3>BaseWhereModelPredictor</h3>
            </main>
            <footer>
                <a role="button" href="BaseWhereModelPredictor.html">Read me →</a>
            </footer>
        </article>
        <article class="card">
            <header><span>5</span></header>
            <main>
                <h3>WhereVowelPositionsPredictor</h3>
            </main>
            <footer>
                <a role="button" href="WhereVowelPositionsPredictor.html">Read me →</a>
            </footer>
        </article>
        <article class="card">
            <header><span>6</span></header>
            <main>
                <h3>sppasWherePositionsPredictor</h3>
            </main>
            <footer>
                <a role="button" href="sppasWherePositionsPredictor.html">Read me →</a>
            </footer>
        </article>
        <article class="card">
            <header><span>7</span></header>
            <main>
                <h3>sppasWhereAnglesPredictor</h3>
            </main>
            <footer>
                <a role="button" href="sppasWhereAnglesPredictor.html">Read me →</a>
            </footer>
        </article>
        <article class="card">
            <header><span>8</span></header>
            <main>
                <h3>sppasWhereCuePredictor</h3>
            </main>
            <footer>
                <a role="button" href="sppasWhereCuePredictor.html">Read me →</a>
            </footer>
        </article>
        </section>
    </section>    </main>
    
            <footer>
                <p class="copyright">Copyright (C) 2022-2026 Brigitte Bigi, CNRS, Laboratoire Parole et Langage, Aix-en-Provence, France</p>
            </footer>
        
</body>
</html>
